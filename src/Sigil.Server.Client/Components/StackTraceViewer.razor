@using Sigil.Application.Models.Events

@if (Frames.Count == 0)
{
    <p class="text-sm opacity-60">No stack frames available.</p>
}
else
{
    <div class="space-y-1">
        @foreach (var frame in Frames)
        {
            var bgClass = frame.InApp ? "bg-base-200" : "opacity-50";
            <div class="@bgClass rounded px-3 py-2 text-sm font-mono">
                <div class="font-semibold">@(frame.Function ?? "(unknown)")</div>
                @if (!string.IsNullOrEmpty(frame.Filename))
                {
                    <div class="text-xs opacity-70">
                        @frame.Filename@(frame.LineNumber.HasValue ? $":{frame.LineNumber}" : "")
                        @if (!string.IsNullOrEmpty(frame.Module))
                        {
                            <span class="ml-2 opacity-50">in @frame.Module</span>
                        }
                    </div>
                }
            </div>
        }
    </div>
}

@code {
    [Parameter, EditorRequired]
    public List<StackFrameResponse> Frames { get; set; } = [];
}
